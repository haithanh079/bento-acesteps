service: "acesteps_service.py:ACEStepService"
labels:
  owner: acestep-team
  project: ace-step
  version: v1.0.0
  description: "ACE-Step music generation service with BentoML"

python:
  packages:
    - torch
    - torchaudio
    - transformers
    - diffusers
    - accelerate
    - peft
    - datasets
    - librosa
    - soundfile
    - numpy
    - matplotlib
    - loguru
    - tqdm
    - pypinyin
    - pytorch_lightning
    - py3langid
    - hangul-romanize
    - num2words
    - spacy
    - cutlet
    - fugashi
    - click
    - tensorboard
    - tensorboardX
    - fastapi
    - bentoml

docker:
  distro: debian
  python_version: "3.12"
  cuda_version: "12.0.0"
  env:
    - CUDA_VISIBLE_DEVICES=0
  system_packages:
    - ffmpeg
    - libsndfile1
    - espeak-ng
    - espeak-ng-data
    - libespeak-ng1

include:
  - "acestep/**"
  - "acesteps_service.py"
  - "requirements.txt"
  - "config/**/*.json"
  - "assets/**/*"
  - "examples/**/*.json"
